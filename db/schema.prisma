// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider  = "prisma-client-py"
    interface = "asyncio"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

// Option snapshot data model
model OptionSnapshot {
    id             Int      @id @default(autoincrement())
    ticker         String
    underlying     String
    strikePrice    Float
    expirationDate DateTime
    contractType   String // "CALL" or "PUT"
    openInterest   Int?
    volume         Int?
    impliedVol     Float?
    lastPrice      Float?
    lastUpdated    DateTime @default(now())
    dayOpen        Float?
    dayClose       Float?
    dayChange      Float?

    @@index([underlying, expirationDate])
    @@index([strikePrice])
    @@map("option_snapshots")
}
